<!DOCTYPE html>
<html>

<head>
	<title>thunder docs</title>
	<style>
	</style>
</head>

<body>
	<form id="form" action="">
		<textarea id="text" autocomplete="off" onchange="update()" rows="25" cols="100"></textarea>
    </form>
	<h1 id="status">ready</h1>
    <script src="/socket.io/socket.io.js"></script>

    <script>
      var socket = io();

      var textbox = document.getElementById('text');
	  var status = document.getElementById('status');

      socket.on('update', function(msg) {
		status.innerHTML = "updating..."
        textbox.value = msg
		status.innerHTML = "ready" 
      });

	  function update() {
		  status.innerHTML = "saving..."
		  socket.emit('update', text.value)
		  status.innerHTML = "ready"
	  }
    </script>
  </body>
</html>