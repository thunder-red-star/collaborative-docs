<!DOCTYPE html>
<html>

<head>
	<title>thunder docs</title>
	<style>
	</style>
</head>

<body>
	<form id="form" action="">
		<textarea id="text" autocomplete="off" onchange="update()" rows="25" cols="100"></textarea>
    </form>
	<h1 id="status"></h1>
    <script src="/socket.io/socket.io.js"></script>

    <script>
      var socket = io();

      var textbox = document.getElementById('text');
	  var statu = document.getElementById('status');

      socket.on('update', function(msg) {
		  if (msg.status == true) {
			  console.log("ready")
			statu.innerHTML = "ready"
		  }
        textbox.value = msg.msg
      });

	  function update() {
		  statu.innerHTML = "saving..."
		  console.log("saving...")
		  socket.emit('update', text.value)
	  }
    </script>
  </body>
</html>